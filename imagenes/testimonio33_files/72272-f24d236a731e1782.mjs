"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[72272],{481177:(e,t,r)=>{r.d(t,{Z:()=>n});let n={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},25919:(e,t,r)=>{let n;r.d(t,{Am:()=>f,Ig:()=>v,N:()=>g,Sd:()=>x,YX:()=>D,be:()=>E,fO:()=>_,kd:()=>A,pz:()=>p});var a=r(667294),i=r(216167),l=r(587703),s=r(703404),o=r(957753),d=r(372085),u=r(953565);let c=(e,t,r={})=>(0,u.nP)(`${e}.${t}`,{sampleRate:1,tags:r}),_=(e,t)=>r=>i.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet().then(e=>e.resource_response?r((0,o.OD)(e.resource_response.data)):void 0),p=(e,t,r,a)=>(l,d)=>{if(t)return Promise.resolve();if(a&&(n=a),1===e.length){let t=e[0],n=d().experiences[t];if(JSON.stringify(n?.extraContext||null)===JSON.stringify(r)||(0,s.E3)(n)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:a}).callGet().then(e=>e.resource_response?l((0,o.cL)(e.resource_response.data)):void 0)},m=(e,t,r,a)=>(l,s,d,u=!1,c,p)=>(m,v)=>{let{experiences:E,experiencesMulti:f}=v(),x=null,A=!0;if(u||(x=(A=!!E[l]&&E[l].experience_id===s)?E[l]:Array.isArray(f[l])&&f[l]?.find(e=>e.experience_id===s)),x&&x.experience_id===s||u&&l&&s){let u=i.Z.create(e,{placed_experience_id:`${l}%3A${s}`,extra_context:c??{},targeting:p}),v=A?o.Yb:o.xW;switch(t){case"dismissed":return u.callDelete().then(()=>{m(v(l,s,t)),m(_(void 0,n)),r&&a&&r({event_type:a,object_id_str:s.toString()})});case"completed":return u.callUpdate().then(()=>{!d&&(m(v(l,s,t)),m(_(void 0,n)),r&&a&&r({event_type:a,object_id_str:s.toString()}))});case"viewed":return m(v(l,s,t)),u.callUpdate().then(()=>{1000162===l&&m(_()),r&&a&&r({event_type:a,object_id_str:s.toString()})});case"completedWithoutHomefeed":return u.callUpdate().then(()=>{d||m(v(l,s,t)),r&&a&&r({event_type:a,object_id_str:s.toString()})})}}return Promise.resolve()},v=()=>{let e=(0,l.Z)();return(0,a.useCallback)(m("UserExperienceViewedResource","viewed",e,4503),[e])},E=()=>{let e=(0,l.Z)();return(0,a.useCallback)(m("UserExperienceCompletedResource","completed",e,6567),[e])},f=()=>{let e=(0,l.Z)();return(0,a.useCallback)(m("UserExperienceResource","dismissed",e,6568),[e])},x=()=>{let e=(0,l.Z)();return(0,a.useCallback)(m("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},A=(e,t)=>(r,n)=>{let{experiences:a}=n(),i=a[e];i&&i.triggerable_placed_exps&&i.triggerable_placed_exps.length&&i.triggerable_placed_exps.forEach(r=>{let[,n]=r.split(":"),a=t;i.metadata&&i.metadata[n]&&(a={...t,...i.metadata[n]}),(0,d.Z)({url:`/v3/experiences/${r.replace(":","%3A")}/trigger/`,method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then(()=>{c("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:n})})})},D=e=>(t,r)=>{t(A(e));let{experiences:n}=r();return n[e]},g=(e,t,r)=>a=>{r&&(n=r),a(A(e,t)),t&&Object.keys(t).length>0&&a(p([e],!1,t,r))}},703404:(e,t,r)=>{r.d(t,{A0:()=>d,E3:()=>s,MQ:()=>o,wQ:()=>u});var n=r(667294),a=r(883119),i=r(862249),l=r(785893);function s(e){return!!e&&0!==e.type}let o=(e,t,r)=>{let n=e[r];return t[r]&&s(n)?n:null};function d(e){return e.display_data?.anchor}let u=e=>{let t=new DOMParser().parseFromString(e,"text/html"),r=[...t.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(e.textContent?.split("\n")||[]).map((e,t)=>(0,l.jsxs)(n.Fragment,{children:[t>0&&(0,l.jsx)("br",{}),(0,l.jsx)(a.xv,{inline:!0,children:e})]},t));{let t=e.href||"",r=(0,i.Z)({url:t});return(0,l.jsx)(a.rU,{display:"inline",externalLinkIcon:r?"default":"none",href:t,rel:r?"nofollow":"none",target:"blank",children:e.textContent},t)}});return(0,l.jsx)(a.xv,{inline:!0,children:r})}},957753:(e,t,r)=>{r.d(t,{NW:()=>s,OD:()=>d,Yb:()=>o,cL:()=>u,xW:()=>l});var n=r(216167),a=r(26616);let i=e=>({type:a.$S,payload:{experiencesMulti:e}}),l=(e,t,r)=>({type:a.V$,payload:{placementId:e,experienceId:t,status:r}}),s=e=>t=>n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(i(e.resource_response.data)):void 0),o=(e,t,r)=>({type:a.iY,payload:{placementId:e,experienceId:t,status:r}}),d=e=>({type:a._4,payload:{experiences:e}}),u=e=>({type:a.mR,payload:{experiences:e}})},321329:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(667294),a=r(703404),i=r(839391),l=r(5859);function s(e){let{mountedPlacements:t,completeExperience:r,dismissExperience:s,experiences:o,fetchAllExperiences:d,fetchAllExperiencesMulti:u,fetchExperienceForPlacements:c,triggerExperimentsForPlacement:_,viewExperience:p}=(0,i.Z)(),{isBot:m}=(0,l.B)(),v=e&&!m?(0,a.MQ)(o,t,e):null;return(0,n.useMemo)(()=>({completeExperience:r,dismissExperience:s,experienceForPlacement:v,fetchAllExperiences:d,fetchAllExperiencesMulti:u,fetchExperienceForPlacements:c,triggerExperimentsForPlacement:_,viewExperience:p}),[r,s,v,d,u,c,_,p])}},839391:(e,t,r)=>{r.d(t,{L:()=>n,Z:()=>i});let{Provider:n,useHook:a}=(0,r(342513).Z)("ExperienceContext"),i=a},558273:(e,t,r)=>{r.d(t,{NK:()=>E,P6:()=>i,ZE:()=>m,Zt:()=>v,_J:()=>o,_S:()=>f,cL:()=>_,jL:()=>s,oN:()=>a,rM:()=>p,sV:()=>d,sY:()=>u});var n=r(115557);let a=5e3,i=5e3/n.gJ,l=["Uploaded by user"],s=(e,t)=>!!t&&!e,o=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,c=e=>"pinstory"===e,_=({embedSrc:e,embedSubtype:t,embedType:r})=>!!e&&!u(r)&&!c(t),p=({link:e,mobileLink:t,trackedLink:r})=>!t&&!r&&!e,m=e=>/pin.it/gim.test(e||""),v=({link:e,mobileLink:t,origImageUrl:r,trackedLink:n})=>t||n||e||r||"",E=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function f(e){for(let t of l)if(e===t)return!1;return!0}},13848:(e,t,r)=>{r.d(t,{F9:()=>a,Zo:()=>n});let{Provider:n,useHook:a}=(0,r(342513).Z)("toastManagerContext")},369708:(e,t,r)=>{r.d(t,{W:()=>u,r:()=>d});var n=r(667294),a=r(214877),i=r(342513),l=r(340523),s=r(785893);let{Provider:o,useHook:d}=(0,i.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:r}=(0,a.v)(),{checkExperiment:i}=(0,l.F)(),[d,u]=(0,n.useState)(!1),[c,_]=(0,n.useState)([]),[p,m]=(0,n.useState)([]),[v,E]=(0,n.useState)({}),f=i("web_ads_mrc_video_impression").anyEnabled,x=e=>{E(t=>({...t,[e]:!0}))},A=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],r=(e.aux_data?.commerce_data||"").includes("story_pin_id");f&&(t||r)&&_(t=>[...t,e].slice(-1e3))}},[f]),D=(0,n.useCallback)(e=>{18===e.eventType&&f&&m(t=>[...t,e].slice(-1e3))},[f]),g=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},h=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,n.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:r}=e.event_data.pinImpressions[0];return!v[r]||!f||(t(g(e)),!1)});e.length!==c.length&&_(e)},[c,f,t,v]),(0,n.useEffect)(()=>{let e=p.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(v[t]&&f){let t=h(e);return t&&r(t),!1}return!0});e.length!==p.length&&m(e)},[p,f,r,v]);let y=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:D,logMrcVideoAdEventOnPlay:A,setCaptionsEnabled:u,setVideoPlayed:x,videosPlayed:v}),[d,A,D,v]);return(0,s.jsx)(o,{value:y,children:e})}},115557:(e,t,r)=>{r.d(t,{$f:()=>a,Cy:()=>o,DR:()=>n,Fm:()=>s,bR:()=>l,gJ:()=>i,lG:()=>d});let n=1,a=2,i=1e3,l=1e3,s=1e3,o=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},386008:(e,t,r)=>{r.d(t,{Tt:()=>c,cm:()=>u,kW:()=>o,kY:()=>_,mN:()=>d});var n=r(545007),a=r(342513),i=r(149722),l=r(785893);let{Provider:s,useHook:o}=(0,a.Z)("Users");function d(){let e=o();return t=>e[t]}function u(){let e=o();return(t,r=!1)=>{let n=Object.keys(e).find(r=>e[r].username===t);if(n||!r)return e[n??""]}}function c(){let{id:e}=(0,i.Z)();return o()[e??""]}function _({children:e}){let t=(0,n.v9)(({users:e})=>e,n.wU);return(0,l.jsx)(s,{value:t,children:e})}},676012:(e,t,r)=>{r.d(t,{w:()=>o,z:()=>s});var n=r(667294),a=r(342513),i=r(785893);let{Provider:l,useMaybeHook:s}=(0,a.Z)("CloseupPreviewContext");function o({children:e}){let[t,r]=(0,n.useState)(Object.freeze({})),a=(0,n.useMemo)(()=>({setData:(e,t)=>r(r=>({...r,[e]:t})),getData:e=>t[e]}),[t]);return(0,i.jsx)(l,{value:a,children:e})}},622155:(e,t,r)=>{r.d(t,{_l:()=>A,cO:()=>x,t2:()=>D,w2:()=>g,xM:()=>f});var n=r(667294),a=r(616550),i=r(216167),l=r(741983),s=r(624797),o=r(554786),d=r(149722),u=r(785893);let c="UnauthDesktopSocialPinLandingPageContext",_="AthDesktopSocialPinLandingPageContext",p="AuthMobileSocialPinLandingPageContext",m=(0,n.createContext)(),v=({children:e})=>{let[t,r]=(0,n.useState)(!1),[a,i]=(0,n.useState)(!1),l=(0,n.useMemo)(()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:r,hasSeenAuthDesktopLandingToast:a,setHasSeenAuthDesktopLandingToast:i}),[t,r,a,i]);return(0,u.jsx)(m.Provider,{value:l,children:e})},E=(0,n.createContext)({key:"",data:null}),f=({children:e})=>{let t=(0,a.TH)(),r=(0,d.Z)(),m=r&&r.isAuth,f=(0,o.HG)(),x=(0,n.useRef)((0,l.fY)(t)&&(0,s.mB)(t.search).invite_code||null),A=(0,a.LX)(t.pathname,{path:"/pin/:id"}),D=A&&A.params.id||"",[g,h]=(0,n.useState)({key:"",data:null});return(0,n.useEffect)(()=>{(async function(){let e=x.current;if(e)try{let t=i.Z.create("InviteCodeMetadataResource",{invite_code:e}),n=(await t.callGet()).resource_response.data;if(n){let e=n.sender??null,t=m&&e.id!==r.id&&e?.should_show_messaging&&r.should_show_messaging;!m&&f?h({key:c,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(n.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):t&&!f?h({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:r.id||""},pin:{pinId:D}}}}):t&&f&&h({key:_,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:r.id||""},pin:{pinId:D}}}})}else h({key:"",data:null})}catch{h({key:"",data:null})}})()},[m,f,r.id,D,r.should_show_messaging]),(0,u.jsx)(v,{children:(0,u.jsx)(E.Provider,{value:g,children:e})})},x=()=>{let e=(0,n.useContext)(E);return e.key===c?e:null},A=()=>{let e=(0,n.useContext)(E);return e.key===p?e:null},D=()=>{let e=(0,n.useContext)(E);return e.key===_?e:null},g=()=>(0,n.useContext)(m)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/72272-f24d236a731e1782.mjs.map